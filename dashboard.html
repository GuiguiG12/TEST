<!DOCTYPE html>
<html lang="en" data-theme="carbon">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G12 Labs — Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>

  <style>
    /* =========================================================
       DESIGN SYSTEM 
       ========================================================= */
    :root {
      --font-sans: 'Inter', sans-serif;
      --sidebar-width: 280px;
      --radius-lg: 1rem;
      --radius-md: 0.75rem;
      --radius-sm: 0.5rem;
      --radius-pill: 999px;

      /* Colors */
      --accent-teal: #4ee5c1;
      --accent-mint: #a8ffc8;
      --accent-grad: linear-gradient(90deg, var(--accent-teal), var(--accent-mint));
      
      --color-success: #16c47f;
      --color-danger: #f46666;
      --color-warning: #ffb020;
    }

    /* === THEME: CARBON (DARK) === */
    [data-theme="carbon"] {
      --bg-app: #000000;
      
      /* Sidebar */
      --bg-sidebar: rgba(5, 7, 11, 0.85);
      --sidebar-border: rgba(255, 255, 255, 0.08);

      /* Cards */
      --card-bg: rgba(20, 26, 33, 0.4); 
      --card-border-color: rgba(255, 255, 255, 0.08);
      --card-inner-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.03);
      --card-shadow: 0 20px 40px -10px rgba(0,0,0,0.6);
      
      /* Text */
      --text-main: #e6e6e6;
      --text-muted: #9aa4b2;
      --text-soft: #656e7b;

      /* Inputs & UI */
      --input-bg: #0b0f14;
      --input-border: #2a2f35;
      --btn-glass-bg: rgba(255, 255, 255, 0.05);
      --btn-glass-hover: rgba(255, 255, 255, 0.1);
      
      /* Chart */
      --chart-grid: rgba(255, 255, 255, 0.06);
      --chart-tooltip-bg: rgba(10, 10, 10, 0.95);

      /* Logo Filter (Keep white) */
      --logo-filter: none;
    }

    /* === THEME: QUARTZ (LIGHT) === */
    [data-theme="quartz"] {
      --bg-app: #F3F4F6;
      --bg-sidebar: rgba(255, 255, 255, 0.95);
      --sidebar-border: rgba(0, 0, 0, 0.06);

      --card-bg: rgba(255, 255, 255, 0.75);
      --card-border-color: rgba(0, 0, 0, 0.06);
      --card-inner-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.6);
      --card-shadow: 0 15px 30px -5px rgba(0,0,0,0.05);

      --text-main: #111827;
      --text-muted: #4B5563;
      --text-soft: #9CA3AF;

      --input-bg: #fff;
      --input-border: #e5e7eb;
      --btn-glass-bg: rgba(0, 0, 0, 0.04);
      --btn-glass-hover: rgba(0, 0, 0, 0.08);
      
      --chart-grid: rgba(0, 0, 0, 0.06);
      --chart-tooltip-bg: rgba(255, 255, 255, 0.98);

      /* Logo Filter (Invert to black) */
      --logo-filter: invert(1) brightness(0);
    }

    /* =========================================================
       BASE & LAYOUT
       ========================================================= */
    * { box-sizing: border-box; }
    
    body {
      margin: 0; font-family: var(--font-sans);
      background-color: var(--bg-app); color: var(--text-main);
      overflow-x: hidden;
    }

    body::before {
      content: ''; position: fixed; inset: 0; pointer-events: none; z-index: -1;
      background: 
        radial-gradient(circle at 15% 15%, rgba(78, 229, 193, 0.05), transparent 45%),
        radial-gradient(circle at 85% 85%, rgba(255, 255, 255, 0.02), transparent 45%),
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
    }

    /* =========================================================
       SIDEBAR
       ========================================================= */
    .sidebar {
      width: var(--sidebar-width);
      position: fixed; top: 0; bottom: 0; left: 0;
      background: var(--bg-sidebar);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      border-right: 1px solid var(--sidebar-border);
      padding: 1.5rem;
      display: flex; flex-direction: column;
      z-index: 100;
      transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
    }

    .logo-area {
      margin-bottom: 1.5rem; display: block;
    }
    .logo-img {
      display: block; width: 140px; height: auto;
      filter: var(--logo-filter);
      transition: filter 0.3s ease;
    }

    /* USER CARD */
    .user-card {
      display: flex; align-items: center; gap: 0.8rem;
      padding: 0.8rem; background: var(--btn-glass-bg);
      border-radius: var(--radius-md); border: 1px solid var(--sidebar-border);
      margin-bottom: 2rem;
    }
    .avatar {
      width: 36px; height: 36px; border-radius: 50%;
      background: linear-gradient(135deg, #222, #000);
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-size: 0.85rem; font-weight: 700;
      border: 1px solid var(--sidebar-border);
    }
    .user-info div { font-size: 0.9rem; font-weight: 600; color: var(--text-main); }
    .user-info span { font-size: 0.75rem; color: var(--text-soft); }

    .nav-label {
      font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.12em;
      color: var(--text-soft); margin: 0 0 0.5rem 0.5rem;
    }

    .nav-item {
      display: flex; align-items: center; gap: 0.8rem;
      padding: 0.75rem 1rem; margin-bottom: 0.25rem;
      border-radius: var(--radius-sm);
      color: var(--text-muted); text-decoration: none;
      font-size: 0.95rem; font-weight: 500; cursor: pointer;
      transition: all 0.2s;
    }
    .nav-item:hover { background: var(--btn-glass-bg); color: var(--text-main); }
    .nav-item.active { background: rgba(78, 229, 193, 0.1); color: var(--accent-teal); }
    .nav-item i { font-size: 1.2rem; }

    .logout-btn {
      margin-top: auto; 
      display: flex; align-items: center; gap: 0.8rem;
      padding: 1rem; color: var(--text-soft);
      text-decoration: none; font-size: 0.9rem; font-weight: 500;
      border-top: 1px solid var(--sidebar-border);
      transition: color 0.2s;
    }
    .logout-btn:hover { color: var(--color-danger); }

    /* =========================================================
       MAIN CONTENT
       ========================================================= */
    .main-wrapper {
      margin-left: var(--sidebar-width);
      min-height: 100vh;
      display: flex; flex-direction: column;
    }

    .container-center {
      width: 100%; max-width: 1400px;
      margin: 0 auto;
      padding: 2.5rem 3rem;
    }

    /* Header */
    .header-row {
      display: flex; justify-content: space-between; align-items: flex-end;
      margin-bottom: 2.5rem;
    }
    .welcome-text h1 {
      font-size: 2.2rem; font-weight: 800; margin: 0;
      color: var(--text-main); letter-spacing: -0.03em;
    }
    .welcome-text p { color: var(--text-muted); margin: 0.4rem 0 0; font-size: 1rem; }
    
    .header-actions { display: flex; gap: 0.8rem; }
    
    .btn {
      display: inline-flex; align-items: center; gap: 0.5rem;
      padding: 0.6rem 1.2rem; border-radius: var(--radius-pill);
      font-size: 0.9rem; font-weight: 600; cursor: pointer; border: none;
      transition: transform 0.2s; text-decoration: none;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn-primary { background: var(--accent-grad); color: #000; box-shadow: 0 4px 15px rgba(78, 229, 193, 0.3); }
    .btn-secondary { background: var(--btn-glass-bg); color: var(--text-main); border: 1px solid var(--sidebar-border); }

    /* Theme Toggle */
    .theme-toggle {
      width: 40px; height: 40px; border-radius: 50%;
      background: var(--btn-glass-bg); border: 1px solid var(--sidebar-border);
      color: var(--text-muted); cursor: pointer; display: flex; align-items: center; justify-content: center;
      font-size: 1.2rem; transition: color 0.2s;
    }
    .theme-toggle:hover { color: var(--accent-teal); }

    /* Mobile Toggle */
    .mobile-toggle { display: none; background: none; border: none; font-size: 1.8rem; color: var(--text-main); cursor: pointer; margin-right: 1rem; }
    .mobile-overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 90;
      opacity: 0; pointer-events: none; transition: opacity 0.3s; backdrop-filter: blur(4px);
    }
    .mobile-overlay.active { opacity: 1; pointer-events: auto; }

    /* =========================================================
       CARDS & GRID
       ========================================================= */
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1.5rem; }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--card-border-color);
      box-shadow: var(--card-inner-shadow), var(--card-shadow);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
      position: relative; display: flex; flex-direction: column;
    }
    .card::after {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
    }

    .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
    .card-title { font-size: 1rem; font-weight: 600; color: var(--text-muted); }

    /* Timeframe Toggles */
    .time-toggles {
      display: flex; background: rgba(0,0,0,0.2); border-radius: var(--radius-pill); padding: 2px;
      border: 1px solid var(--sidebar-border);
    }
    .time-btn {
      background: transparent; border: none; color: var(--text-soft);
      font-size: 0.75rem; font-weight: 600; padding: 4px 10px;
      border-radius: var(--radius-pill); cursor: pointer; transition: 0.2s;
    }
    .time-btn:hover { color: var(--text-main); }
    .time-btn.active { background: rgba(255,255,255,0.1); color: var(--text-main); }
    [data-theme="quartz"] .time-btn.active { background: #fff; color: #000; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }

    /* KPIs */
    .kpi-card { grid-column: span 3; padding: 1.8rem; }
    .kpi-value { font-size: 2.2rem; font-weight: 800; color: var(--text-main); letter-spacing: -0.02em; margin: 0.5rem 0; }
    .kpi-trend { font-size: 0.9rem; display: flex; align-items: center; gap: 0.4rem; }

    /* Charts Side-by-Side */
    .chart-half { grid-column: span 6; min-height: 380px; }
    .chart-body { flex: 1; width: 100%; min-height: 0; }

    /* Combined Strategy Card (New) */
    .allocations-card { grid-column: span 6; }
    .alloc-list { display: flex; flex-direction: column; gap: 1rem; }
    .alloc-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem; background: rgba(255,255,255,0.03); border-radius: var(--radius-md);
      border: 1px solid var(--sidebar-border); transition: background 0.2s;
    }
    .alloc-row:hover { background: rgba(255,255,255,0.06); }
    .alloc-info h4 { margin: 0; font-size: 1rem; color: var(--text-main); }
    .alloc-info p { margin: 2px 0 0; font-size: 0.8rem; color: var(--text-soft); }
    .alloc-stats { text-align: right; }
    .alloc-val { display: block; font-weight: 600; color: var(--text-main); }
    .alloc-apy { font-size: 0.8rem; color: var(--accent-teal); }

    /* Recent Transactions (Small) */
    .tx-container { grid-column: span 6; }
    .tx-row {
      display: flex; align-items: center; justify-content: space-between;
      padding: 0.9rem 0; border-bottom: 1px solid var(--sidebar-border);
    }
    .tx-row:last-child { border-bottom: none; }
    .tx-left { display: flex; align-items: center; gap: 0.8rem; }
    .tx-icon {
      width: 32px; height: 32px; border-radius: 50%; background: rgba(255,255,255,0.05);
      display: flex; align-items: center; justify-content: center; font-size: 0.9rem; color: var(--text-muted);
    }
    .tx-info div { font-size: 0.9rem; font-weight: 500; color: var(--text-main); }
    .tx-info span { font-size: 0.75rem; color: var(--text-soft); }
    .tx-amount { font-weight: 600; font-size: 0.95rem; color: var(--text-main); }

    /* =========================================================
       SETTINGS & FORMS
       ========================================================= */
    .settings-header { margin-bottom: 1.5rem; }
    .settings-header h2 { font-size: 1.2rem; font-weight: 600; margin: 0 0 0.5rem 0; }
    .settings-header p { color: var(--text-muted); margin: 0; font-size: 0.9rem; }

    .form-group { margin-bottom: 1.5rem; }
    .form-label { display: block; font-size: 0.85rem; font-weight: 500; margin-bottom: 0.5rem; color: var(--text-main); }
    .form-input {
      width: 100%; padding: 0.6rem 0.8rem; border-radius: var(--radius-sm);
      background: var(--input-bg); border: 1px solid var(--input-border);
      color: var(--text-main); font-family: inherit; font-size: 0.9rem;
    }
    .form-input:focus { outline: none; border-color: var(--accent-teal); }

    /* Select Input Customization */
    select.form-input { appearance: none; background-image: url('data:image/svg+xml;utf8,<svg fill="%23888" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>'); background-repeat: no-repeat; background-position: right 8px center; }

    /* Theme Cards */
    .theme-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; }
    .theme-card {
      border: 1px solid var(--sidebar-border); border-radius: var(--radius-md);
      padding: 1rem; cursor: pointer; position: relative;
    }
    .theme-card.active { border-color: var(--accent-teal); background: rgba(78, 229, 193, 0.05); }
    .theme-preview { height: 60px; background: #222; border-radius: 4px; margin-bottom: 0.8rem; display: flex; gap: 4px; padding: 4px; }
    .theme-preview.light { background: #eee; }
    .tp-sidebar { width: 20%; background: #333; height: 100%; border-radius: 2px; }
    .tp-main { width: 80%; background: #111; height: 100%; border-radius: 2px; }
    .theme-preview.light .tp-sidebar { background: #fff; }
    .theme-preview.light .tp-main { background: #f9f9f9; }
    
    .danger-zone {
      border: 1px solid rgba(244, 102, 102, 0.3); background: rgba(244, 102, 102, 0.05);
      border-radius: var(--radius-lg); padding: 1.5rem; margin-top: 2rem;
    }
    .danger-title { color: var(--text-main); font-weight: 600; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.5rem; }
    .danger-p { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 1rem; }
    .btn-danger { background: rgba(244, 102, 102, 0.15); color: #f46666; border: 1px solid transparent; }
    .btn-danger:hover { background: rgba(244, 102, 102, 0.25); border-color: #f46666; }

    /* =========================================================
       TRANSACTIONS (Full Table)
       ========================================================= */
    .table-container { overflow-x: auto; }
    .full-table { width: 100%; border-collapse: collapse; min-width: 600px; }
    .full-table th { text-align: left; padding: 1rem; color: var(--text-muted); font-size: 0.85rem; border-bottom: 1px solid var(--sidebar-border); }
    .full-table td { padding: 1rem; border-bottom: 1px solid var(--sidebar-border); font-size: 0.9rem; color: var(--text-main); }
    .status-badge { padding: 0.2rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; }
    .sb-success { background: rgba(22, 196, 127, 0.15); color: var(--color-success); }
    .sb-pending { background: rgba(255, 176, 32, 0.15); color: var(--color-warning); }

    /* =========================================================
       RESPONSIVE
       ========================================================= */
    .view-section { display: none; }
    .view-section.active { display: block; animation: fadeIn 0.3s; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    @media (max-width: 1200px) {
      .kpi-card { grid-column: span 6; }
      .chart-half { grid-column: span 12; }
      .allocations-card { grid-column: span 12; }
      .tx-container { grid-column: span 12; }
    }
    @media (max-width: 768px) {
      .sidebar { transform: translateX(-100%); }
      .sidebar.open { transform: translateX(0); }
      .main-wrapper { margin-left: 0; }
      .container-center { padding: 1.5rem; }
      .mobile-toggle { display: block; }
      .header-row { flex-direction: column; align-items: flex-start; gap: 1rem; }
      .header-actions { width: 100%; justify-content: space-between; }
      .grid { display: flex; flex-direction: column; }
    }

  </style>
</head>
<body>

<div class="mobile-overlay" id="mobileOverlay" onclick="closeSidebar()"></div>

<aside class="sidebar" id="sidebar">
  <a href="#" class="logo-area">
    <img src="fulllogo_transparent_nobuffer.png" alt="G12 Labs" class="logo-img" />
  </a>

  <div class="user-card">
    <div class="avatar">GB</div>
    <div class="user-info">
      <div>Guillaume B.</div>
      <span>ID #042</span>
    </div>
  </div>

  <div class="nav-label">Dashboard</div>
  <div class="nav-item active" onclick="switchView('dashboard', this)">
    <i class="ph ph-squares-four"></i> Overview
  </div>
  <a href="performance.html" class="nav-item">
    <i class="ph ph-chart-line-up"></i> Global Performance
  </a>
  
  <div class="nav-label">Account</div>
  <div class="nav-item" onclick="switchView('transactions', this)">
    <i class="ph ph-arrows-left-right"></i> Transactions
  </div>
  <div class="nav-item" onclick="switchView('settings', this)">
    <i class="ph ph-gear"></i> Settings
  </div>

  <a href="index.html" class="logout-btn">
    <i class="ph ph-sign-out"></i> Disconnect
  </a>
</aside>

<div class="main-wrapper">
  <div class="container-center">
    
    <div class="header-row">
      <div style="display:flex; align-items:center;">
        <button class="mobile-toggle" onclick="openSidebar()"><i class="ph ph-list"></i></button>
        <div class="welcome-text">
          <h1>Welcome back, Guillaume!</h1>
          <p>Portfolio metrics updated 12 mins ago.</p>
        </div>
      </div>

      <div class="header-actions">
        <button class="theme-toggle" id="themeToggleBtn" onclick="toggleTheme()" title="Toggle Theme">
          <i class="ph ph-sun"></i>
        </button>
        <button class="btn btn-secondary"><i class="ph ph-arrow-down"></i> Withdraw</button>
        <button class="btn btn-primary"><i class="ph ph-plus"></i> Deposit</button>
      </div>
    </div>

    <div id="view-dashboard" class="view-section active">
      <div class="grid">

        <div class="card kpi-card">
          <div class="card-header" style="margin-bottom:0.5rem">
            <span class="card-title">Total Balance</span>
            <i class="ph ph-wallet" style="color:var(--accent-teal)"></i>
          </div>
          <div class="kpi-value">$124,592.40</div>
          <div class="kpi-trend">
            <span style="color:var(--color-success); background:rgba(22, 196, 127, 0.1); padding:2px 6px; border-radius:4px; font-weight:600;">+1.8%</span>
            <span style="color:var(--text-muted)"> vs last week</span>
          </div>
        </div>

        <div class="card kpi-card">
          <div class="card-header" style="margin-bottom:0.5rem">
            <span class="card-title">Net PnL</span>
            <i class="ph ph-trend-up" style="color:var(--accent-teal)"></i>
          </div>
          <div class="kpi-value" style="color:var(--accent-teal)">+$12,400</div>
          <div class="kpi-trend">
            <span style="color:var(--text-muted)">All time profit</span>
          </div>
        </div>

        <div class="card kpi-card">
          <div class="card-header" style="margin-bottom:0.5rem">
            <span class="card-title">Avg. Monthly Return</span>
            <i class="ph ph-chart-bar" style="color:var(--text-muted)"></i>
          </div>
          <div class="kpi-value">+1.2%</div>
          <div class="kpi-trend">
            <span style="color:var(--text-muted)">Consistent Growth</span>
          </div>
        </div>

        <div class="card kpi-card">
          <div class="card-header" style="margin-bottom:0.5rem">
            <span class="card-title">Est. Yield</span>
          </div>
          <div class="kpi-value">$420.00</div>
          <div class="kpi-trend">
            <span style="color:var(--text-muted)">Next payout: Oct 01</span>
          </div>
        </div>

        <div class="card chart-half">
          <div class="card-header">
            <span class="card-title">Portfolio Value</span>
            <div class="time-toggles">
              <button class="time-btn" onclick="setTimeframe(this)">1W</button>
              <button class="time-btn" onclick="setTimeframe(this)">1M</button>
              <button class="time-btn active" onclick="setTimeframe(this)">3M</button>
              <button class="time-btn" onclick="setTimeframe(this)">YTD</button>
            </div>
          </div>
          <div id="chartPortfolio" class="chart-body"></div>
        </div>

        <div class="card chart-half">
          <div class="card-header">
            <span class="card-title">Weekly Returns</span>
            <div class="time-toggles">
              <button class="time-btn active" onclick="setTimeframe(this)">3M</button>
              <button class="time-btn" onclick="setTimeframe(this)">6M</button>
            </div>
          </div>
          <div id="chartWeekly" class="chart-body"></div>
        </div>

        <div class="card allocations-card">
          <div class="card-header">
            <span class="card-title">Active Allocations</span>
            <i class="ph ph-strategy" style="color:var(--text-muted)"></i>
          </div>
          
          <div class="alloc-list">
            <div class="alloc-row">
              <div style="display:flex; gap:1rem; align-items:center;">
                <div style="width:40px; height:40px; background:rgba(255,255,255,0.1); border-radius:8px; display:flex; align-items:center; justify-content:center; font-weight:700;">F</div>
                <div class="alloc-info">
                  <h4>G12 Flex</h4>
                  <p>Liquid Strategy</p>
                </div>
              </div>
              <div class="alloc-stats">
                <span class="alloc-val">$42,100.00</span>
                <span class="alloc-apy">10.5% APY</span>
              </div>
            </div>

            <div class="alloc-row" style="border-color:rgba(78,229,193,0.3);">
              <div style="display:flex; gap:1rem; align-items:center;">
                <div style="width:40px; height:40px; background:rgba(78,229,193,0.2); border-radius:8px; display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--accent-teal);">S</div>
                <div class="alloc-info">
                  <h4>G12 Secure</h4>
                  <p>Capital Protected • 12M</p>
                </div>
              </div>
              <div class="alloc-stats">
                <span class="alloc-val">$82,492.40</span>
                <span class="alloc-apy">14.2% APY</span>
              </div>
            </div>
          </div>
        </div>

        <div class="card tx-container">
          <div class="card-header">
            <span class="card-title">Recent Activity</span>
            <button class="time-btn" onclick="switchView('transactions')">View All</button>
          </div>
          <div class="tx-list">
            <div class="tx-row">
              <div class="tx-left">
                <div class="tx-icon"><i class="ph ph-arrow-down-left"></i></div>
                <div class="tx-info"><div>Yield Payout</div><span>Oct 24 • USDC</span></div>
              </div>
              <div class="tx-amount" style="color:var(--color-success)">+$412.50</div>
            </div>
            <div class="tx-row">
              <div class="tx-left">
                <div class="tx-icon"><i class="ph ph-bank"></i></div>
                <div class="tx-info"><div>Deposit</div><span>Oct 20 • G12 Flex</span></div>
              </div>
              <div class="tx-amount" style="color:var(--color-success)">+$10,000</div>
            </div>
            <div class="tx-row">
              <div class="tx-left">
                <div class="tx-icon"><i class="ph ph-arrow-up-right"></i></div>
                <div class="tx-info"><div>Withdrawal</div><span>Oct 05 • USDT</span></div>
              </div>
              <div class="tx-amount">-$2,500</div>
            </div>
          </div>
        </div>

      </div>
    </div> <div id="view-transactions" class="view-section">
      <div class="card">
        <div class="card-header">
          <span class="card-title">Transaction History</span>
          <div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
            <select class="form-input" style="width:auto;">
              <option value="all">All Assets</option>
              <option value="usdc">USDC</option>
              <option value="usdt">USDT</option>
            </select>
            <select class="form-input" style="width:auto;">
              <option value="all">All Types</option>
              <option value="deposit">Deposit</option>
              <option value="withdrawal">Withdrawal</option>
              <option value="yield">Yield</option>
            </select>
            <button class="btn btn-secondary" style="padding:0.4rem 1rem;">Export CSV</button>
          </div>
        </div>
        <div class="table-container">
          <table class="full-table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Asset</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Tx Hash</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Oct 24, 2025</td>
                <td>Yield Payout</td>
                <td>USDC</td>
                <td style="color:var(--color-success)">+$412.50</td>
                <td><span class="status-badge sb-success">Completed</span></td>
                <td style="font-family:monospace; color:var(--text-soft)">0x82...91a</td>
              </tr>
              <tr>
                <td>Oct 20, 2025</td>
                <td>Deposit</td>
                <td>USDC</td>
                <td style="color:var(--color-success)">+$10,000.00</td>
                <td><span class="status-badge sb-success">Completed</span></td>
                <td style="font-family:monospace; color:var(--text-soft)">0x3f...b29</td>
              </tr>
              <tr>
                <td>Oct 05, 2025</td>
                <td>Withdrawal</td>
                <td>USDT</td>
                <td>-$2,500.00</td>
                <td><span class="status-badge sb-pending">Processing</span></td>
                <td style="font-family:monospace; color:var(--text-soft)">-</td>
              </tr>
               <tr>
                <td>Sep 28, 2025</td>
                <td>Rebalance</td>
                <td>Flex -> Secure</td>
                <td>$5,000.00</td>
                <td><span class="status-badge sb-success">Completed</span></td>
                <td style="font-family:monospace; color:var(--text-soft)">Internal</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="view-settings" class="view-section">
      <div class="settings-header">
        <h2>General Settings</h2>
        <p>Update your profile information and manage your account.</p>
      </div>

      <div class="card">
        <div class="form-group">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-input" value="Guillaume B.">
        </div>
        <div class="form-group">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-input" value="guillaume.baudour@gmail.com" disabled style="opacity:0.7;">
        </div>
        
        <div class="form-group">
          <label class="form-label">Theme Mode</label>
          <div class="theme-grid">
            <div class="theme-card active" onclick="setTheme('carbon', this)">
              <div class="theme-preview"><div class="tp-sidebar"></div><div class="tp-main"></div></div>
              <div style="font-size:0.9rem; font-weight:500;">Dark</div>
            </div>
            <div class="theme-card" onclick="setTheme('quartz', this)">
              <div class="theme-preview light"><div class="tp-sidebar"></div><div class="tp-main"></div></div>
              <div style="font-size:0.9rem; font-weight:500;">Light</div>
            </div>
          </div>
        </div>

        <div class="form-group" style="border-top:1px solid var(--sidebar-border); padding-top:1.5rem; margin-top:1.5rem;">
          <h3 style="font-size:1rem; margin:0 0 1rem 0; color:var(--text-main);">Security</h3>
          <label class="form-label">New Password</label>
          <input type="password" class="form-input" placeholder="Enter new password" style="margin-bottom:1rem;">
          <label class="form-label">Confirm Password</label>
          <input type="password" class="form-input" placeholder="Confirm new password">
        </div>

        <div style="text-align:right; margin-top:1.5rem;">
          <button class="btn btn-primary">Save Changes</button>
        </div>
      </div>

      <div class="danger-zone">
        <div class="danger-title"><i class="ph ph-warning"></i> Danger Zone</div>
        <p class="danger-p">Request for account deletion. Your data will be deleted within 30 days.</p>
        <button class="btn btn-danger">Request to delete account</button>
      </div>
    </div>

  </div>
</div>

<script>
  // 1. NAVIGATION
  function switchView(viewName, navItem) {
    if(navItem) {
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
      navItem.classList.add('active');
    }
    document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
    document.getElementById('view-' + viewName).classList.add('active');
    closeSidebar();

    // Resize charts if dashboard visible
    if(viewName === 'dashboard') {
      setTimeout(() => {
        chartPortfolio && chartPortfolio.resize();
        chartWeekly && chartWeekly.resize();
      }, 50);
    }
  }

  // 2. THEME & TOGGLE ICON
  function toggleTheme() {
    const html = document.documentElement;
    const current = html.getAttribute('data-theme');
    const next = current === 'carbon' ? 'quartz' : 'carbon';
    html.setAttribute('data-theme', next);
    updateThemeIcon(next);
    initCharts(); 
  }

  function setTheme(theme, el) {
    document.documentElement.setAttribute('data-theme', theme);
    document.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
    updateThemeIcon(theme);
    initCharts();
  }

  function updateThemeIcon(theme) {
    const btn = document.getElementById('themeToggleBtn');
    const icon = btn.querySelector('i');
    // Dark mode (Carbon) -> Show Sun (to switch to light)
    // Light mode (Quartz) -> Show Moon (to switch to dark)
    if(theme === 'carbon') {
      icon.className = 'ph ph-sun';
    } else {
      icon.className = 'ph ph-moon';
    }
  }

  function openSidebar() {
    document.getElementById('sidebar').classList.add('open');
    document.getElementById('mobileOverlay').classList.add('active');
  }
  function closeSidebar() {
    document.getElementById('sidebar').classList.remove('open');
    document.getElementById('mobileOverlay').classList.remove('active');
  }

  // 3. CHARTS
  let chartPortfolio, chartWeekly;

  function initCharts() {
    if(chartPortfolio) chartPortfolio.dispose();
    if(chartWeekly) chartWeekly.dispose();

    const isDark = document.documentElement.getAttribute('data-theme') === 'carbon';
    const gridColor = isDark ? 'rgba(255,255,255,0.06)' : 'rgba(0,0,0,0.06)';
    const textColor = isDark ? '#9aa4b2' : '#6B7280';
    const tooltipBg = isDark ? 'rgba(10,10,10,0.95)' : 'rgba(255,255,255,0.98)';
    const tooltipText = isDark ? '#fff' : '#111';

    // PORTFOLIO (Line)
    const domP = document.getElementById('chartPortfolio');
    if(domP) {
      chartPortfolio = echarts.init(domP);
      chartPortfolio.setOption({
        backgroundColor: 'transparent',
        grid: { left: 40, right: 20, top: 20, bottom: 30, containLabel: true },
        tooltip: { trigger: 'axis', backgroundColor: tooltipBg, borderColor: isDark ? '#333' : '#eee', textStyle: { color: tooltipText }, axisPointer: { type: 'line', lineStyle: { color: '#4ee5c1', type: 'dashed' } } },
        xAxis: { type: 'category', data: ['Sep 01','Sep 08','Sep 15','Sep 22','Sep 29','Oct 06','Oct 13','Oct 20'], axisLine: { lineStyle: { color: gridColor } }, axisLabel: { color: textColor } },
        yAxis: { type: 'value', splitLine: { lineStyle: { color: gridColor } }, axisLabel: { color: textColor, formatter: '${value}' } },
        series: [{
          data: [98000, 102000, 101500, 108000, 112000, 110500, 118000, 124592],
          type: 'line', smooth: true, showSymbol: false,
          lineStyle: { width: 3, color: '#4ee5c1' },
          areaStyle: { opacity: 0.2, color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{ offset: 0, color: 'rgba(78, 229, 193, 0.5)' }, { offset: 1, color: 'rgba(78, 229, 193, 0)' }]) }
        }]
      });
    }

    // WEEKLY (Bar)
    const domW = document.getElementById('chartWeekly');
    if(domW) {
      chartWeekly = echarts.init(domW);
      const weeklyData = [0.8, 1.2, -0.5, 1.5, 2.1, 0.4, -0.2, 1.8, 1.1, 0.9, -0.3, 1.4];
      chartWeekly.setOption({
        backgroundColor: 'transparent',
        grid: { left: 20, right: 20, top: 20, bottom: 20, containLabel: true },
        tooltip: { trigger: 'axis', backgroundColor: tooltipBg, borderColor: isDark ? '#333' : '#eee', textStyle: { color: tooltipText }, formatter: '{b}: {c}%' },
        xAxis: { type: 'category', data: ['W1','W2','W3','W4','W5','W6','W7','W8','W9','W10','W11','W12'], axisLine: { lineStyle: { color: gridColor } }, axisLabel: { color: textColor } },
        yAxis: { type: 'value', splitLine: { lineStyle: { color: gridColor } }, axisLabel: { color: textColor, formatter: '{value}%' } },
        series: [{
          type: 'bar', data: weeklyData.map(v => ({ value: v, itemStyle: { color: v >= 0 ? '#4ee5c1' : '#f46666', borderRadius: [4, 4, 0, 0] } })),
          barWidth: '40%'
        }]
      });
    }
  }

  function setTimeframe(btn) {
    const parent = btn.parentNode;
    parent.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  // Init
  window.addEventListener('load', () => {
    initCharts();
    // Set initial icon based on default theme (Carbon)
    updateThemeIcon('carbon');
  });
  window.addEventListener('resize', () => {
    if(chartPortfolio) chartPortfolio.resize();
    if(chartWeekly) chartWeekly.resize();
  });
</script>

</body>
</html>