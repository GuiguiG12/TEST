<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Access G12 Labs</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
  
  <script src="https://unpkg.com/@phosphor-icons/web"></script>

  <style>
    /* =========================================
       1. CORE TOKENS
       ========================================= */
    :root {
      --bg-root: #030303; /* Fond tr√®s profond */
      --bg-card: #0A0A0A; /* Fond de la carte */
      --border-color: rgba(255, 255, 255, 0.08);
      --accent: #E85A04; /* Orange Magma */
      --accent-glow: rgba(232, 90, 4, 0.15);
      --text-main: #FFFFFF;
      --text-dim: #888888;
      --radius-lg: 24px;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background: var(--bg-root);
      color: var(--text-main);
      font-family: 'Inter', sans-serif;
      height: 100vh;
      display: flex; align-items: center; justify-content: center;
      overflow: hidden;
      position: relative;
    }

    /* Fond subtil avec un l√©ger d√©grad√© radial pour donner de la profondeur */
    body::before {
        content: ""; position: absolute; inset: 0; z-index: -1;
        background: radial-gradient(circle at center, rgba(232,90,4,0.03) 0%, transparent 60%);
    }
    /* Grain Texture Subtile */
    body::after {
        content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 9999;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.02'/%3E%3C/svg%3E");
    }

    /* =========================================
       2. ACCESS CARD (CENTERED)
       ========================================= */
    .access-card {
        background: var(--bg-card);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-lg);
        padding: 48px 40px;
        width: 100%; max-width: 440px;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 
                    0 0 0 1px rgba(232, 90, 4, 0.05); /* Subtil contour orange */
        position: relative;
        overflow: hidden;
        transition: opacity 0.5s ease, transform 0.5s ease;
    }
    
    /* Effet de "glow" sup√©rieur sur la carte */
    .access-card::before {
        content: ""; position: absolute; top: 0; left: 0; right: 0; height: 1px;
        background: linear-gradient(90deg, transparent, var(--accent-glow), transparent);
    }

    /* √âtats de transition pour l'apparition/disparition */
    .access-card.fade-in { opacity: 0; transform: translateY(20px); }
    .access-card.visible { opacity: 1; transform: translateY(0); }
    .access-card.fade-out { opacity: 0; transform: scale(0.95); pointer-events: none; }

    /* Contenu de la carte */
    .logo-spacer { margin-bottom: 32px; display: inline-block; }
    .logo-spacer img { height: 40px; width: auto; display: block; }

    .card-title {
        font-size: 28px; font-weight: 600; margin-bottom: 12px;
        letter-spacing: -0.5px; color: var(--text-main);
    }
    .card-desc {
        font-size: 15px; color: var(--text-dim); line-height: 1.5;
        margin-bottom: 40px; padding: 0 20px;
    }

    /* Conteneur pour le bouton Thirdweb */
    #connect-button-container {
        margin-bottom: 32px;
    }

    /* Footer L√©gal */
    .card-footer {
        font-size: 12px; color: #555; line-height: 1.5;
        padding-top: 24px; border-top: 1px solid rgba(255,255,255,0.05);
    }
    .card-footer a { color: #777; text-decoration: none; transition: 0.2s; }
    .card-footer a:hover { color: var(--accent); }


    /* =========================================
       3. REAL DASHBOARD (Hidden Initially)
       ========================================= */
    #app-screen {
        position: fixed; inset: 0; z-index: 100;
        height: 100%; display: flex;
        opacity: 0; pointer-events: none; background: var(--bg-root);
        transition: opacity 0.8s ease 0.2s;
    }
    #app-screen.visible { opacity: 1; pointer-events: all; }

    /* Sidebar Dashboard */
    .sidebar {
        width: 260px; background: var(--bg-card); border-right: 1px solid var(--border-color);
        padding: 24px; display: flex; flex-direction: column; justify-content: space-between;
    }
    .nav-link {
        padding: 12px; margin-bottom: 4px; border-radius: 8px; color: var(--text-dim);
        display: flex; align-items: center; gap: 12px; cursor: pointer; transition: 0.2s; font-size: 14px;
    }
    .nav-link:hover, .nav-link.active { background: rgba(255,255,255,0.05); color: white; }
    .nav-link.active { color: var(--accent); }

    .main-view { flex: 1; padding: 40px; overflow-y: auto; }

    /* Responsive */
    @media (max-width: 480px) {
        .access-card { padding: 40px 24px; max-width: 90%; }
        .card-title { font-size: 24px; }
    }
  </style>
</head>
<body>

  <div id="login-card" class="access-card fade-in">
      <div class="logo-spacer">
          <img src="logo_g12.svg" alt="G12 Labs">
      </div>
      
      <h1 class="card-title">Connect to G12 Labs</h1>
      <p class="card-desc">
          Access institutional-grade DeFi yields. Sign in securely with your wallet or email to view your dashboard.
      </p>

      <div id="connect-button-container"></div>

      <div class="card-footer">
          By connecting, you agree to our <br>
          <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>.
      </div>
  </div>


  <div id="app-screen">
      <aside class="sidebar">
          <div>
              <div style="margin-bottom: 40px; font-weight: 700; display: flex; align-items: center; gap: 10px;">
                  <img src="logo_g12.svg" height="24"> G12 LABS
              </div>
              <nav>
                  <div class="nav-link active"><i class="ph ph-squares-four"></i> Overview</div>
                  <div class="nav-link" onclick="window.location.href='strategies.html'"><i class="ph ph-chart-line-up"></i> Strategies</div>
                  <div class="nav-link" onclick="window.location.href='docs.html'"><i class="ph ph-book"></i> Documentation</div>
              </nav>
          </div>
          <div class="nav-link" onclick="window.location.href='index.html'">
              <i class="ph ph-sign-out"></i> Disconnect
          </div>
      </aside>

      <main class="main-view">
          <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
              <h1>Portfolio Overview</h1>
              <div style="font-family: 'JetBrains Mono'; font-size: 12px; color: #666; border: 1px solid var(--border-color); padding: 8px 16px; border-radius: 20px; background: var(--bg-card);">
                  <span style="color: var(--accent);">‚óè</span> <span id="userAddress">0x...</span>
              </div>
          </header>

          <div style="background: var(--bg-card); border: 1px solid var(--border-color); padding: 20px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
              <div>
                  <h3 style="font-size: 14px; margin-bottom: 4px;">Need funds?</h3>
                  <p style="font-size: 12px; color: var(--text-dim);">Purchase USDC directly via bank transfer (Low Fees).</p>
              </div>
              <a href="https://widget.mtpelerin.com/?type=web&lang=fr&tab=buy&bdc=USDC&net=ARBITRUM&amt=500&cur=EUR" 
                 target="_blank" 
                 style="background: white; color: black; text-decoration: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; font-size: 12px; transition: 0.2s;">
                 Buy USDC
              </a>
          </div>

          <div style="text-align: center; color: var(--text-dim); margin-top: 100px;">
              <i class="ph ph-wallet" style="font-size: 48px; margin-bottom: 20px; color: #333;"></i>
              <p>Wallet connected successfully.<br>Synchronizing data...</p>
          </div>
      </main>
  </div>


  <script type="module">
    // Animation d'entr√©e de la carte
    window.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            document.getElementById('login-card').classList.add('visible');
        }, 100);
    });

    import React from "https://esm.sh/react@18.2.0";
    import ReactDOM from "https://esm.sh/react-dom@18.2.0/client";
    import { ThirdwebProvider, ConnectButton, darkTheme } from "https://esm.sh/thirdweb@5.14.0/react";
    import { createThirdwebClient } from "https://esm.sh/thirdweb@5.14.0";
    import { createWallet, inAppWallet } from "https://esm.sh/thirdweb@5.14.0/wallets";
    import { arbitrum, base } from "https://esm.sh/thirdweb@5.14.0/chains";

    // üî¥ REMPLACE CECI PAR TON CLIENT ID THIRDWEB üî¥
    const CLIENT_ID = "YOUR_CLIENT_ID"; 

    const client = createThirdwebClient({ clientId: CLIENT_ID });

    const wallets = [
        inAppWallet({ auth: { options: ["google", "email", "passkey"] } }),
        createWallet("io.metamask"),
        createWallet("com.coinbase.wallet"),
        createWallet("me.rainbow"),
    ];

    // Th√®me personnalis√© pour le bouton et la modale Thirdweb
    const customTheme = darkTheme({
        colors: {
            accentText: "#E85A04",
            accentButtonBg: "#E85A04", // Couleur du bouton principal
            primaryButtonBg: "#E85A04", // Bouton "Launch App" en orange
            primaryButtonText: "#FFFFFF", // Texte blanc sur fond orange
            modalBg: "#0A0A0A",
            borderColor: "#1A1A1A",
        }
    });

    function App() {
        return React.createElement(ThirdwebProvider, {}, 
            React.createElement(ConnectButton, {
                client: client,
                wallets: wallets,
                theme: customTheme,
                chains: [arbitrum, base],
                connectButton: {
                    label: "Launch App", // Le texte exact de ton exemple
                    style: {
                        width: "100%",
                        padding: "16px",
                        fontWeight: "600",
                        fontSize: "16px",
                        borderRadius: "8px", // Bouton un peu plus carr√© comme l'exemple
                    }
                },
                connectModal: {
                    size: "compact",
                    title: "Sign in to G12",
                },
                onConnect: (wallet) => {
                    const address = wallet.getAccount().address;
                    document.getElementById('userAddress').innerText = address.slice(0,6) + "..." + address.slice(-4);
                    
                    // TRANSITION: Hide Login Card, Show Dashboard
                    const loginCard = document.getElementById('login-card');
                    loginCard.classList.remove('visible');
                    loginCard.classList.add('fade-out');
                    
                    setTimeout(() => {
                        document.getElementById('app-screen').classList.add('visible');
                    }, 300); // Petit d√©lai pour laisser la carte dispara√Ætre
                }
            })
        );
    }

    const root = ReactDOM.createRoot(document.getElementById("connect-button-container"));
    root.render(React.createElement(App));
  </script>

</body>
</html>
