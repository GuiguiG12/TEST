<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G12 Access Terminal</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
  
  <script src="https://unpkg.com/@phosphor-icons/web"></script>

  <style>
    /* =========================================
       1. CORE TOKENS
       ========================================= */
    :root {
      --bg-root: #050505;
      --bg-surface: #0A0A0A;
      --border: #1A1A1A;
      --accent: #E85A04; /* Magma */
      --accent-glow: rgba(232, 90, 4, 0.4);
      --text-main: #FFFFFF;
      --text-dim: #888888;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background: var(--bg-root);
      color: var(--text-main);
      font-family: 'Inter', sans-serif;
      height: 100vh;
      overflow: hidden;
    }

    /* Grain Texture Subtile */
    body::before {
        content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 9999;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
    }

    /* =========================================
       2. LOGIN SCREEN (SPLIT LAYOUT)
       ========================================= */
    #login-screen {
        position: absolute; inset: 0; z-index: 100;
        display: grid; grid-template-columns: 1fr 1fr;
        background: var(--bg-root);
        transition: opacity 0.8s ease, transform 0.8s ease;
    }
    #login-screen.hidden {
        opacity: 0; pointer-events: none; transform: scale(1.05);
    }

    /* --- COLONNE GAUCHE (Action) --- */
    .ls-left {
        display: flex; flex-direction: column; justify-content: center;
        padding: 60px 80px;
        border-right: 1px solid var(--border);
        position: relative;
    }
    
    .ls-brand { margin-bottom: 40px; }
    .ls-brand img { height: 32px; }

    .ls-content h1 {
        font-size: 42px; font-weight: 600; line-height: 1.1; margin-bottom: 16px; letter-spacing: -1px;
    }
    .ls-content p {
        font-size: 16px; color: var(--text-dim); line-height: 1.6; margin-bottom: 40px; max-width: 440px;
    }

    .feature-list { margin-bottom: 40px; display: flex; flex-direction: column; gap: 12px; }
    .f-item { display: flex; align-items: center; gap: 10px; font-size: 14px; color: #ccc; }
    .f-item i { color: var(--accent); }

    /* --- COLONNE DROITE (Visuel Anim√©) --- */
    .ls-right {
        background: radial-gradient(circle at center, #111 0%, #050505 100%);
        display: flex; align-items: center; justify-content: center;
        position: relative; overflow: hidden;
    }
    
    /* Grille de fond */
    .grid-bg {
        position: absolute; inset: 0;
        background-size: 40px 40px;
        background-image: linear-gradient(to right, rgba(255,255,255,0.03) 1px, transparent 1px),
                          linear-gradient(to bottom, rgba(255,255,255,0.03) 1px, transparent 1px);
        mask-image: radial-gradient(circle at center, black 40%, transparent 80%);
    }

    /* La Carte "Fake Dashboard" */
    .preview-card {
        width: 420px; height: 300px;
        background: rgba(20, 20, 20, 0.6);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 16px;
        backdrop-filter: blur(10px);
        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        padding: 24px;
        display: flex; flex-direction: column;
        transform: perspective(1000px) rotateY(-5deg) rotateX(2deg);
        transition: transform 0.5s ease;
    }
    .ls-right:hover .preview-card { transform: perspective(1000px) rotateY(0deg) rotateX(0deg); }

    /* Le Graphique Anim√© (SVG) */
    .chart-container {
        flex: 1; display: flex; align-items: flex-end; position: relative;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        margin-top: 20px;
    }
    svg.chart-line {
        width: 100%; height: 100%;
        overflow: visible;
    }
    path.line {
        fill: none; stroke: var(--accent); stroke-width: 2;
        stroke-dasharray: 1000; stroke-dashoffset: 1000;
        animation: drawLine 2.5s ease-out forwards;
        filter: drop-shadow(0 0 8px var(--accent-glow));
    }
    path.area {
        fill: url(#gradientArea); stroke: none;
        opacity: 0; animation: fadeInArea 1s ease-out 1.5s forwards;
    }

    @keyframes drawLine { to { stroke-dashoffset: 0; } }
    @keyframes fadeInArea { to { opacity: 0.3; } }

    /* Les Chiffres qui comptent */
    .pc-header { display: flex; justify-content: space-between; align-items: flex-start; }
    .pc-label { font-size: 11px; text-transform: uppercase; color: #666; letter-spacing: 1px; margin-bottom: 4px; }
    .pc-val { font-family: 'JetBrains Mono'; font-size: 28px; font-weight: 600; color: white; }
    
    .anim-num { display: inline-block; }

    /* =========================================
       3. REAL DASHBOARD (Hidden Initially)
       ========================================= */
    #app-screen {
        height: 100%; display: flex; opacity: 0; pointer-events: none;
        transition: opacity 1s ease 0.5s;
    }
    #app-screen.visible { opacity: 1; pointer-events: all; }

    /* Sidebar Dashboard */
    .sidebar {
        width: 260px; background: var(--bg-surface); border-right: 1px solid var(--border);
        padding: 24px; display: flex; flex-direction: column; justify-content: space-between;
    }
    .nav-link {
        padding: 12px; margin-bottom: 4px; border-radius: 8px; color: var(--text-dim);
        display: flex; align-items: center; gap: 12px; cursor: pointer; transition: 0.2s; font-size: 14px;
    }
    .nav-link:hover, .nav-link.active { background: rgba(255,255,255,0.05); color: white; }
    .nav-link.active { color: var(--accent); }

    .main-view { flex: 1; padding: 40px; overflow-y: auto; }

    /* Mobile Responsive */
    @media (max-width: 900px) {
        #login-screen { grid-template-columns: 1fr; }
        .ls-right { display: none; } /* On cache le visuel sur mobile pour la clart√© */
        .ls-left { padding: 40px 24px; }
    }
  </style>
</head>
<body>

  <div id="login-screen">
      
      <div class="ls-left">
          <div class="ls-brand">
              <img src="logo_g12.svg" alt="G12 Labs">
          </div>
          
          <div class="ls-content">
              <h1>Systematic Yield.<br>Institutional Grade.</h1>
              <p>Access our automated DeFi strategies on Arbitrum & Base. Non-custodial, transparent, and built for capital preservation.</p>
              
              <div class="feature-list">
                  <div class="f-item"><i class="ph ph-check-circle"></i> Audited Smart Contracts</div>
                  <div class="f-item"><i class="ph ph-check-circle"></i> Real-time Risk Management</div>
                  <div class="f-item"><i class="ph ph-check-circle"></i> No lock-up periods</div>
              </div>

              <div id="thirdweb-login-btn"></div>
          </div>
      </div>

      <div class="ls-right">
          <div class="grid-bg"></div>
          
          <div class="preview-card">
              <div class="pc-header">
                  <div>
                      <div class="pc-label">Total Value Locked</div>
                      <div class="pc-val">$<span id="counter">0.00</span></div>
                  </div>
                  <div style="font-size: 12px; color: var(--accent); background: rgba(232,90,4,0.1); padding: 4px 8px; border-radius: 4px;">
                      +12.4%
                  </div>
              </div>

              <div class="chart-container">
                  <svg class="chart-line" viewBox="0 0 300 100" preserveAspectRatio="none">
                      <defs>
                          <linearGradient id="gradientArea" x1="0" x2="0" y1="0" y2="1">
                              <stop offset="0%" stop-color="#E85A04" stop-opacity="0.2"/>
                              <stop offset="100%" stop-color="#E85A04" stop-opacity="0"/>
                          </linearGradient>
                      </defs>
                      <path class="area" d="M0,100 L0,80 L50,75 L100,50 L150,60 L200,30 L250,40 L300,10 L300,100 Z" />
                      <path class="line" d="M0,80 L50,75 L100,50 L150,60 L200,30 L250,40 L300,10" vector-effect="non-scaling-stroke" />
                  </svg>
              </div>

              <div style="margin-top: 20px; display: flex; flex-direction: column; gap: 10px;">
                  <div style="height: 8px; width: 60%; background: rgba(255,255,255,0.1); border-radius: 4px;"></div>
                  <div style="height: 8px; width: 40%; background: rgba(255,255,255,0.05); border-radius: 4px;"></div>
              </div>
          </div>
      </div>
  </div>

  <div id="app-screen">
      <aside class="sidebar">
          <div>
              <div style="margin-bottom: 40px; font-weight: 700; display: flex; align-items: center; gap: 10px;">
                  <img src="logo_g12.svg" height="24"> G12 LABS
              </div>
              <nav>
                  <div class="nav-link active"><i class="ph ph-squares-four"></i> Overview</div>
                  <div class="nav-link" onclick="window.location.href='strategies.html'"><i class="ph ph-chart-line-up"></i> Strategies</div>
                  <div class="nav-link" onclick="window.location.href='docs.html'"><i class="ph ph-book"></i> Documentation</div>
              </nav>
          </div>
          <div class="nav-link" onclick="window.location.href='index.html'">
              <i class="ph ph-sign-out"></i> Disconnect
          </div>
      </aside>

      <main class="main-view">
          <header style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
              <h1>Portfolio Overview</h1>
              <div style="font-family: 'JetBrains Mono'; font-size: 12px; color: #666; border: 1px solid #222; padding: 8px 16px; border-radius: 20px;">
                  <span style="color: var(--accent);">‚óè</span> <span id="userAddress">0x...</span>
              </div>
          </header>

          <div style="background: #0A0A0A; border: 1px solid #222; padding: 20px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
              <div>
                  <h3 style="font-size: 14px; margin-bottom: 4px;">Need funds?</h3>
                  <p style="font-size: 12px; color: #666;">Purchase USDC directly via bank transfer (Low Fees).</p>
              </div>
              <a href="https://widget.mtpelerin.com/?type=web&lang=fr&tab=buy&bdc=USDC&net=ARBITRUM&amt=500&cur=EUR" 
                 target="_blank" 
                 style="background: white; color: black; text-decoration: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; font-size: 12px;">
                 Buy USDC
              </a>
          </div>

          <div style="text-align: center; color: #444; margin-top: 100px;">
              <i class="ph ph-wallet" style="font-size: 48px; margin-bottom: 20px;"></i>
              <p>Wallet connected successfully.<br>Loading positions...</p>
          </div>
      </main>
  </div>

  <script>
      // Petit script pour animer le compteur de 0 √† 1.2M
      function animateValue(obj, start, end, duration) {
          let startTimestamp = null;
          const step = (timestamp) => {
              if (!startTimestamp) startTimestamp = timestamp;
              const progress = Math.min((timestamp - startTimestamp) / duration, 1);
              // Format mon√©taire
              const val = Math.floor(progress * (end - start) + start);
              obj.innerHTML = val.toLocaleString('en-US') + ".00";
              if (progress < 1) {
                  window.requestAnimationFrame(step);
              }
          };
          window.requestAnimationFrame(step);
      }
      
      // Lancer l'anim au chargement
      const obj = document.getElementById("counter");
      animateValue(obj, 0, 1245050, 2000); // Monte √† 1,245,050 en 2 sec
  </script>

  <script type="module">
    import React from "https://esm.sh/react@18.2.0";
    import ReactDOM from "https://esm.sh/react-dom@18.2.0/client";
    import { ThirdwebProvider, ConnectButton, darkTheme } from "https://esm.sh/thirdweb@5.14.0/react";
    import { createThirdwebClient } from "https://esm.sh/thirdweb@5.14.0";
    import { createWallet, inAppWallet } from "https://esm.sh/thirdweb@5.14.0/wallets";
    import { arbitrum, base } from "https://esm.sh/thirdweb@5.14.0/chains";

    // üî¥ REMPLACE CECI PAR TON CLIENT ID üî¥
    const CLIENT_ID = "YOUR_CLIENT_ID"; 

    const client = createThirdwebClient({ clientId: CLIENT_ID });

    const wallets = [
        inAppWallet({ auth: { options: ["google", "email", "passkey"] } }),
        createWallet("io.metamask"),
        createWallet("com.coinbase.wallet"),
        createWallet("me.rainbow"),
    ];

    const customTheme = darkTheme({
        colors: {
            accentText: "#E85A04",
            accentButtonBg: "#E85A04",
            primaryButtonBg: "#E85A04", // Bouton Orange Magma
            primaryButtonText: "#FFFFFF",
        }
    });

    function App() {
        return React.createElement(ThirdwebProvider, {}, 
            React.createElement(ConnectButton, {
                client: client,
                wallets: wallets,
                theme: customTheme,
                chains: [arbitrum, base],
                connectButton: {
                    label: "Launch App", // Le texte du bouton
                    style: {
                        width: "100%",
                        padding: "16px",
                        fontWeight: "600",
                        fontSize: "16px"
                    }
                },
                onConnect: (wallet) => {
                    const address = wallet.getAccount().address;
                    document.getElementById('userAddress').innerText = address.slice(0,6) + "..." + address.slice(-4);
                    
                    // TRANSITION: Hide Login, Show App
                    document.getElementById('login-screen').classList.add('hidden');
                    document.getElementById('app-screen').classList.add('visible');
                }
            })
        );
    }

    const root = ReactDOM.createRoot(document.getElementById("thirdweb-login-btn"));
    root.render(React.createElement(App));
  </script>

</body>
</html>
